(()=>{"use strict";function e(e){e.remove()}function t(e){e.classList.contains("card__like-button_is-active")?e.classList.remove("card__like-button_is-active"):e.classList.add("card__like-button_is-active")}function n(e){e.classList.remove("popup_is-opened"),e.removeEventListener("mousedown",o),document.removeEventListener("keydown",c)}function r(e){e.classList.add("popup_is-opened"),e.addEventListener("mousedown",o),document.addEventListener("keydown",c)}function o(e){e.target===e.currentTarget&&n(e.target)}function c(e){var t=document.querySelector(".popup_is-opened");"Escape"==e.key&&n(t)}var u=document.querySelector(".popup_type_image"),i=u.querySelector(".popup__image"),d=u.querySelector(".popup__caption"),p=document.querySelector(".places__list"),a=document.querySelector("#card-template").content;function s(n,r,o){var c=function(e,t,n,r,o,c){var u=r.querySelector(".card").cloneNode(!0),i=u.querySelector(".card__image"),d=u.querySelector(".card__title");i.src=e,d.textContent=t,u.querySelector(".card__delete-button").addEventListener("click",(function(){return n(u)}));var p=u.querySelector(".card__like-button");return p.addEventListener("click",(function(){return o(p)})),i.addEventListener("click",(function(){return c(e,t)})),u}(r,n,e,a,t,h);o?p.prepend(c):p.append(c)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return s(e.name,e.link,!1)}));var l=document.querySelector(".popup__input_type_name"),m=document.querySelector(".popup__input_type_description"),_=document.querySelector(".profile__title"),v=document.querySelector(".profile__description"),y=document.querySelector(".profile__edit-button"),f=document.querySelector(".popup_type_edit");y.addEventListener("click",(function(e){l.value=_.innerHTML,m.value=v.innerHTML,r(f),e.stopImmediatePropagation()}));var k=document.querySelector(".profile__add-button"),q=document.querySelector(".popup_type_new-card");function L(e){n(e.target.closest(".popup"))}k.addEventListener("click",(function(e){r(q),e.stopImmediatePropagation()})),document.querySelectorAll(".popup__close").forEach((function(e){e.addEventListener("click",L)}));var S=document.forms["edit-profile"];S.addEventListener("submit",(function(e){e.preventDefault(),_.textContent=l.value,v.textContent=m.value})),S.addEventListener("submit",(function(){return n(f)}));var E=document.forms["new-place"],g=document.querySelector(".popup__input_type_card-name"),b=document.querySelector(".popup__input_type_url");function h(e,t){r(u),i.src=e,i.alt=t,d.textContent=t}E.addEventListener("submit",(function(e){e.preventDefault(),s(g.value,b.value,!0)})),E.addEventListener("submit",(function(){return n(q)})),E.addEventListener("submit",(function(){return E.reset()}))})();